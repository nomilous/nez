// Generated by CoffeeScript 1.4.0
var Specification;

Specification = require('./specification');

module.exports = {
  object: {
    set: {
      expect: function(name) {
        if (typeof Object.expect !== 'undefined') {
          return;
        }
        return Object.defineProperty(Object.prototype, 'expect', {
          get: function() {
            return function() {
              var configuration, edges, key, _results;
              if (typeof arguments[1] !== 'undefined') {
                throw 'Malformed expect config... use Object.expect <config>';
              }
              if (!(edges = Specification.getNode(name).edges)) {
                return;
              }
              if (typeof arguments[0] === 'string') {
                configuration = {};
                configuration[arguments[0]] = {};
                return edges.push(Specification.create(this, {
                  expectation: configuration
                }));
              } else {
                _results = [];
                for (key in arguments[0]) {
                  configuration = {};
                  configuration[key] = arguments[0][key];
                  _results.push(edges.push(Specification.create(this, {
                    expectation: configuration
                  })));
                }
                return _results;
              }
            };
          }
        });
      },
      mock: function() {
        if (typeof Object.mock !== 'undefined') {
          return;
        }
        return Object.defineProperty(Object.prototype, 'mock', {
          get: function() {
            return function() {
              var className, expectations;
              if (typeof arguments[0] !== 'string') {
                throw 'Malformed mock config... use Object.mock \'MockObjectName\', <config>';
              }
              className = arguments[0];
              expectations = arguments[1];
              eval("this.klass = (function() {\n    function " + className + "() {}\n    return " + className + ";\n})();");
              if (expectations) {
                this.klass.expect(expectations);
              }
              return new this.klass;
            };
          }
        });
      }
    }
  }
};
