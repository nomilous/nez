// Generated by CoffeeScript 1.4.0
var Notification, Realization,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Notification = require('./notification');

module.exports = Realization = Realization = (function(_super) {

  __extends(Realization, _super);

  function Realization(object) {
    this.object = object;
  }

  Realization.prototype.createFunction = function(name, opts) {
    var newFunction,
      _this = this;
    this.name = name;
    if (opts == null) {
      opts = {};
    }
    this.type = 'function';
    newFunction = function(arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, areYouMad) {
      _this.realizeFunction(arguments);
      if (opts.returns) {
        return opts.returns;
      }
      if (_this.originalFunction) {
        return _this.originalFunction.call(_this.object, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, areYouMad);
      }
    };
    this.originalFunction = this.object[this.name];
    return this.object[this.name] = newFunction;
  };

  Realization.prototype.createProperty = function(name, opts) {
    var _this = this;
    this.name = name;
    if (opts == null) {
      opts = {};
    }
    this.type = 'property';
    this.originalProperty = this.object[this.name];
    return Object.defineProperty(this.object, this.name, {
      set: function(value) {
        _this.realizeProperty({
          0: value
        });
        return _this.originalProperty = value;
      },
      get: function() {
        if (opts.returns) {
          _this.realizeProperty({
            0: opts.returns
          });
          return opts.returns;
        } else {
          _this.realizeProperty({
            0: _this.originalProperty
          });
          return _this.originalProperty;
        }
      }
    });
  };

  Realization.prototype.realizeFunction = function(args) {
    return this.realized = {
      "function": {
        args: this.slide(args, 1)
      }
    };
  };

  Realization.prototype.realizeProperty = function(args) {
    return this.realized = {
      property: {
        args: this.slide(args, 1)
      }
    };
  };

  Realization.prototype.slide = function(args, amount) {
    var key, newKey, slid;
    slid = {};
    for (key in args) {
      newKey = (parseInt(key) + amount).toString();
      slid[newKey] = args[key];
    }
    return slid;
  };

  return Realization;

})(Notification);
