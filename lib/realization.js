// Generated by CoffeeScript 1.4.0
var Config, Injector, PluginLoader;

Config = require('nezcore').config;

Injector = require('nezcore').injector;

PluginLoader = require('./plugin_loader');

module.exports = {
  load: function(label, injectable) {
    var defaults, scaffold, stack, subject, validator;
    defaults = Config.get('realizer');
    defaults.label = label;
    defaults.injectable = injectable;
    PluginLoader.load(defaults);
    subject = Injector.support.findModule({
      module: label
    });
    stack = require('./nez').link();
    stack.name = label;
    validator = stack.validator;
    scaffold = stack.stacker;
    return Injector.inject([subject, validator, scaffold], injectable);
  }
};
